var TooltipSequenceV2;(()=>{"use strict";var e={d:(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>i});class r{#e={target:"body",next:"tooltip-helper-next-sequence",prev:"tooltip-helper-prev-sequence",end:"tooltip-helper-end-sequence",quit:"tooltip-helper-quit-sequence",backdrop:"tooltip-helper-backdrop",arrow:"tooltip-helper-arrow",arrow_hide:"tooltip-helper-arrow-hide",arrow_down:"tooltip-helper-arrow-down",arrow_left:"tooltip-helper-arrow-left",arrow_up:"tooltip-helper-arrow-up",arrow_right:"tooltip-helper-arrow-right",active:"tooltip-helper-active",active_description:"tooltip-helper-active-description",active_description_animate:"tooltip-helper-active-description-animate",active_description_text:"tooltip-helper-active-description-text",footer:"tooltip-helper-footer",disabled_button:"tooltip-disabled-btn",stop_scroll:"stop-scroll",next_text:"Next",prev_text:"Previous",quit_text:"Quit",end_text:"Finish"};#t=0;#r={backdropColor:"#1b1b1b8e",sequence:[],onComplete:function(){}};#i=15;#n=17;#s=this.#n-2;#o={x:0,y:0};#h=null;#d=null;static resizeEventHandler=null;static keystrokeEventHandler=null;constructor(e){this.#r={...this.#r,...e}}#a(e){return document.querySelector(e)||null}#c(e){return this.#a("#"+e)}#l(e){return e.getBoundingClientRect()}#p(e,t,r){const i=e.getBoundingClientRect(),n=this.#o,s=t.width>i.width?-1:1,o=Math.round(i.x+s*Math.abs(i.width-t.width)/2);switch(r){case"top":default:n.x=o,n.y=Math.round(i.y-t.height-this.#i);break;case"right":n.x=Math.round(i.x+i.width+this.#i),n.y=Math.round(i.y+i.height/2-t.height/2);break;case"bottom":n.x=o,n.y=Math.round(i.y+i.height+this.#i);break;case"left":n.x=Math.round(i.x-t.width-this.#i),n.y=Math.round(i.y+i.height/2-t.height/2)}return n}#u(e){if(!e.target||!e.target.id)return;switch(e.target.id){case this.#e.next:return this.#w();case this.#e.prev:return this.#x();case this.#e.end:case this.#e.quit:case this.#e.backdrop:return this.#f();default:return}}#m(){try{this.#g()}catch(e){throw new Error("Oops something went wrong while resizing!")}}#b(e){const{keyCode:t,which:r}=e,i=r||t||0;return 39===i&&this.#t<this.#r.sequence.length-1?this.#w():37===i&&this.#t>0?this.#x():81===i?this.#f():void 0}#y(e=!1){this.#d&&(e?(window.removeEventListener("resize",r.resizeEventHandler),r.resizeEventHandler=null,window.removeEventListener("keydown",r.keystrokeEventHandler),r.resizeEventHandler=null,this.#d.removeEventListener("click",this.#u.bind(this)),this.#d.parentNode&&this.#d.parentNode.removeChild(this.#d)):(r.resizeEventHandler=this.#m.bind(this),window.addEventListener("resize",r.resizeEventHandler),r.keystrokeEventHandler=this.#b.bind(this),window.addEventListener("keydown",r.keystrokeEventHandler),this.#d.addEventListener("click",this.#u.bind(this))))}#v(e,t,r){function i(e){return e.style.height=t.height+"px",e.style.width=t.width+"px",e.style.borderRadius=r.borderRadius,e.style.boxShadow="0 0 0 9999px "+n,e.style.transform=`translate3d(${t.x}px, ${t.y}px, 0px)`,e}const{backdropColor:n}=this.#r,s=this.#a(`#${this.#e.backdrop} .${this.#e.active}`),o=this.#a(this.#r.sequence[this.#t].element).innerHTML;if(!s){const t=document.createElement("div");return t.setAttribute("id",this.#e.active),t.classList.add(this.#e.active),t.innerHTML=o,e.append(t),i(t)}return s.innerHTML=o,i(s)}#E(){const{sequence:e}=this.#r,t=this.#c(this.#e.prev),r=this.#c(this.#e.next),i=this.#c(this.#e.end);return t&&(0===this.#t?(t.setAttribute("disabled","true"),t.classList.add(this.#e.disabled_button)):(t.removeAttribute("disabled"),t.classList.remove(this.#e.disabled_button))),r&&(1===e.length||this.#t===e.length-1?(r.innerText=this.#e.end_text,r.setAttribute("id",this.#e.end)):r.innerText=this.#e.next_text),i&&this.#t<e.length-1&&(i.innerText=this.#e.next_text,i.setAttribute("id",this.#e.next)),{prevBtn:t,nextBtn:r,finishBtn:i}}#k(e,t,r,i,n){let s=this.#a(`#${this.#e.backdrop} .${this.#e.active_description}`);s||(s=document.createElement("div"),s.style.willChange="transform",s.classList.add(this.#e.active_description),s.innerHTML+=`<p id=${this.#e.active_description_text}></p>`,s.innerHTML+=`<div class=${this.#e.footer}>\n        <button id=${this.#e.quit} class=${this.#e.quit}>${this.#e.quit_text}</button>\n        <div>\n          <button id=${this.#e.prev} class=${this.#e.prev}>${this.#e.prev_text}</button>\n          <button id=${this.#e.next} class=${this.#e.next}>${this.#e.next_text}</button>\n        </div>\n      </div>`,t.append(s)),this.#E();const o=this.#a(`#${this.#e.active_description_text}`);if(!o)return;"string"==typeof r?o.innerHTML=r:o.appendChild(r);const h=this.#l(s),d=(this.#l(i),this.#l(e)),a={x:0,y:0};return a.x=d.x+d.width/2-h.width/2,a.y=d.y+d.height/2-h.height/2,"top"===n?a.y=a.y-h.height/2-40:"right"===n?a.x=a.x+h.width/2+40:"bottom"===n?a.y=a.y+h.height/2+40:"left"===n&&(a.x=a.x-h.width/2-40),s.style.transform="translate3d("+a.x+"px, "+a.y+"px, 0px)",window.innerWidth<480&&window.innerWidth>20&&(s.style.width=window.innerWidth-20+"px"),{descBoundaries:h,descriptionElement:s}}#_(e,t,r){let i=this.#a(`#${this.#e.backdrop} #${this.#e.arrow}`),n=this.#a(`#${this.#e.backdrop} #${this.#e.arrow_hide}`);i||(i=document.createElement("div"),i.setAttribute("id",this.#e.arrow),e.append(i)),i.removeAttribute("class"),i.classList.add(this.#e.arrow);const s={x:0,y:0,rotation:-45};"top"===t?(s.x=s.x+r.width/2-this.#n/2,s.y=s.y+this.#n/2):"right"===t?(s.x=s.x-this.#n/2,s.y=s.y-r.height/2+this.#n/2,s.rotation=45):"bottom"===t?(s.x=s.x+r.width/2-this.#n/2,s.y=s.y-r.height+this.#n/2+2,s.rotation=135):(s.x=s.x+r.width-this.#n/2-2,s.y=s.y-r.height/2+this.#n/2,s.rotation=225),i.style.transform=`translate3d(${s.x}px, ${s.y}px, 0px) rotateZ(${s.rotation}deg)`,n||(n=document.createElement("div"),n.setAttribute("id",this.#e.arrow_hide),e.append(n)),n.removeAttribute("class"),n.classList.add(this.#e.arrow_hide),s.x=0,s.y=0,s.rotation=-45,"top"===t?(s.x=s.x+r.width/2-this.#s/2,s.y=s.y+this.#s/2-this.#n+2):"right"===t?(s.x=s.x-this.#s/2,s.y=s.y-r.height/2+this.#s/2-this.#n+2,s.rotation=45):"bottom"===t?(s.x=s.x+r.width/2-this.#s/2,s.y=s.y-r.height+this.#s/2+2-this.#n+2,s.rotation=135):(s.x=s.x+r.width-this.#s/2-2,s.y=s.y-r.height/2+this.#s/2-this.#n+2,s.rotation=225),n.style.transform=`translate3d(${s.x}px, ${s.y}px, 0px) rotateZ(${s.rotation}deg)`}#S(){return this.#d=document.createElement("div"),this.#d.id=this.#e.backdrop,this.#d.classList.add(this.#e.backdrop),body.appendChild(this.#d),this.#d}#z(){return this.#h=this.#a(this.#e.target),this.#h}#g(){const{element:e=null,description:t="",placement:r="bottom"}=this.#r.sequence[this.#t];if(!e)return;const i=this.#d;if(!i)return;let n=r;window.innerWidth<=480&&("left"===r||"right"===r)&&(n="bottom"),console.log(this.#h);const s=this.#a(e);if(!s)return this.end();const o=this.#h;if(!o)return;o.classList.add(this.#e.stop_scroll),s.scrollIntoView({behavior:"smooth",block:"center"});const h=getComputedStyle(s),d=this.#l(s),a=this.#v(i,d,h),{descBoundaries:c,descriptionElement:l}=this.#k(s,i,t,a,n);l&&this.#_(l,n,c)}#w(){return this.#t+=1,this.#g()}#x(){return this.#t-=1,this.#g()}#f(){const e=this.#a(this.#e.target);if(e)return e.classList.remove(this.#e.stop_scroll),this.#y(!0),this.#t=0,this.#r.onComplete?this.#r.onComplete():void 0}createSequence(){try{if(!this.#z())return;if(!this.#S())return;this.#y(),this.#g()}catch(e){throw console.log(e),new Error("Oops, something went wrong while creating the sequence")}}}const i={TooltipSequence:r};TooltipSequenceV2=t})();