var TooltipSequenceV2;(()=>{"use strict";var e={d:(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>i});class r{#e={target:"body",next:"tooltip-helper-next-sequence",prev:"tooltip-helper-prev-sequence",end:"tooltip-helper-end-sequence",quit:"tooltip-helper-quit-sequence",backdrop:"tooltip-helper-backdrop",arrow:"tooltip-helper-arrow",arrow_hidden:"tooltip-helper-arrow-hidden",arrow_down:"tooltip-helper-arrow-down",arrow_left:"tooltip-helper-arrow-left",arrow_up:"tooltip-helper-arrow-up",arrow_right:"tooltip-helper-arrow-right",active:"tooltip-helper-active",active_description:"tooltip-helper-active-description",active_description_animate:"tooltip-helper-active-description-animate",active_description_text:"tooltip-helper-active-description-text",footer:"tooltip-helper-footer",disabled_button:"tooltip-disabled-btn",stop_scroll:"stop-scroll",next_text:"Next",prev_text:"Previous",quit_text:"Quit",end_text:"Finish"};#t=0;#r={backdropColor:"#1b1b1b8e",sequence:[],onComplete:function(){}};#i=15;#n=10;#s=20;#o={x:0,y:0};static resizeEventHandler=null;static keystrokeEventHandler=null;constructor(e){this.#r={...this.#r,...e}}#d(e){return document.querySelector(e)||null}#h(e){return this.#d("#"+e)}#a(e,t,r){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=this.#o,o=n.width>i.width?-1:1,d=Math.round(i.x+o*Math.abs(i.width-n.width)/2);switch(r){case"top":default:s.x=d,s.y=Math.round(i.y-n.height-this.#i);break;case"right":s.x=Math.round(i.x+i.width+this.#i),s.y=Math.round(i.y+i.height/2-n.height/2);break;case"bottom":s.x=d,s.y=Math.round(i.y+i.height+this.#i);break;case"left":s.x=Math.round(i.x-n.width-this.#i),s.y=Math.round(i.y+i.height/2-n.height/2)}return s}#c(e){if(!e.target||!e.target.id)return;switch(e.target.id){case this.#e.next:return this.#l();case this.#e.prev:return this.#p();case this.#e.end:case this.#e.quit:case this.#e.backdrop:return this.#u();default:return}}#f(){try{this.#x()}catch(e){throw new Error("Oops something went wrong while resizing!")}}#w(e){const{keyCode:t,which:r}=e,i=r||t||0;return 39===i&&this.#t<this.#r.sequence.length-1?this.#l():37===i&&this.#t>0?this.#p():81===i?this.#u():void 0}#g(e=!1){const t=this.#h(this.#e.backdrop);t&&(e?(window.removeEventListener("resize",r.resizeEventHandler),r.resizeEventHandler=null,window.removeEventListener("keydown",r.keystrokeEventHandler),r.resizeEventHandler=null,t.removeEventListener("click",this.#c.bind(this)),t.parentNode&&t.parentNode.removeChild(t)):(r.resizeEventHandler=this.#f.bind(this),window.addEventListener("resize",r.resizeEventHandler),r.keystrokeEventHandler=this.#w.bind(this),window.addEventListener("keydown",r.keystrokeEventHandler),t.addEventListener("click",this.#c.bind(this))))}#v(e,t,r){function i(e){return e.style.top=Math.round(t.top)+"px",e.style.left=Math.round(t.left)+"px",e.style.height=t.height+"px",e.style.width=t.width+"px",e.style.borderRadius=r.borderRadius,e.style.boxShadow="0 0 0 9999px "+n,e}const{backdropColor:n}=this.#r,s=this.#d(`#${this.#e.backdrop} .${this.#e.active}`),o=this.#d(this.#r.sequence[this.#t].element).innerHTML;if(!s){const t=document.createElement("div");return t.setAttribute("id",this.#e.active),t.classList.add(this.#e.active),t.innerHTML=o,e.append(t),i(t)}return s.innerHTML=o,i(s)}#m(e,t){const{sequence:r}=this.#r;let i=this.#d(`#${this.#e.backdrop} .${this.#e.active_description}`);i||(i=document.createElement("div"),i.style.willChange="transform",i.classList.add(this.#e.active_description),i.innerHTML+=`<p id=${this.#e.active_description_text}></p>`,i.innerHTML+=`<div class=${this.#e.footer}>\n        <button id=${this.#e.quit} class=${this.#e.quit}>${this.#e.quit_text}</button>\n        <div>\n          <button id=${this.#e.prev} class=${this.#e.prev}>${this.#e.prev_text}</button>\n          <button id=${this.#e.next} class=${this.#e.next}>${this.#e.next_text}</button>\n        </div>\n      </div>`,e.append(i));const n=this.#h(this.#e.prev),s=this.#h(this.#e.next),o=this.#h(this.#e.end);n&&(0===this.#t?(n.setAttribute("disabled","true"),n.classList.add(this.#e.disabled_button)):(n.removeAttribute("disabled"),n.classList.remove(this.#e.disabled_button))),s&&(1===r.length||this.#t===r.length-1?(s.innerText=this.#e.end_text,s.setAttribute("id",this.#e.end)):s.innerText=this.#e.next_text),o&&this.#t<r.length-1&&(o.innerText=this.#e.next_text,o.setAttribute("id",this.#e.next));const d=this.#d(`#${this.#e.active_description_text}`);if(d)return"string"==typeof t?d.innerHTML=t:d.appendChild(t),i}#b(e){const t=this.#d(`#${this.#e.backdrop} #${this.#e.arrow}`);if(!t){const t=document.createElement("div");return t.setAttribute("id",this.#e.arrow),e.append(t),t.classList.add(this.#e.arrow_hidden),t}return t}#y(){const e=document.createElement("div");return e.id=this.#e.backdrop,e.classList.add(this.#e.backdrop),e}#x(){const{sequence:e}=this.#r,{element:t,description:r,placement:i}=e[this.#t],n=this.#h(this.#e.backdrop);if(!n)return;let s=this.#o,o=i;window.innerWidth<=400&&("left"===i||"right"===i)&&(o="bottom");const d=this.#d(t);if(!d)return this.end();const h=this.#d(this.#e.target);if(!h)return;h.classList.add(this.#e.stop_scroll),d.scrollIntoView({behavior:"smooth",block:"center"});let a=getComputedStyle(d),c=d.getBoundingClientRect(),l=(this.#v(n,c,a),this.#m(n,r));if(!l)return;s=this.#a(d,l,o);let p=l.getBoundingClientRect();s.x+p.width>=window.innerWidth?s.x=Math.round(c.right-p.width+this.#n):s.x<=0&&(s.x=Math.round(c.x-this.#n),p.width>=window.innerWidth&&(l.style.width=window.innerWidth-2*s.x+"px")),l.style.transform="translate3d("+s.x+"px, "+s.y+"px, 0px)";let u=this.#d(`#${this.#e.backdrop} #${this.#e.arrow}`);u||(u=document.createElement("div"),u.setAttribute("id",this.#e.arrow),l.append(u),u.classList.add(this.#e.arrow_hidden)),u.removeAttribute("class"),u.classList.add(this.#e.arrow);const f={x:0,y:0,rotation:45};"top"===o?(f.x=f.x+p.width/2-7.5,f.y=f.y+7.5):"right"===o?(f.x=f.x-7.5,f.y=f.y-p.height/2+5):"bottom"===o?(f.x=f.x+p.width/2-5,f.y=f.y-p.height+7.5):(f.x=f.x+p.width-7.5,f.y=f.y-p.height/2+5),u.style.transform=`translate3d(${f.x}px, ${f.y}px, 0px) rotateZ(${f.rotation}deg)`,window.innerWidth<480&&window.innerWidth>20&&(l.style.width=window.innerWidth-20+"px")}#l(){return this.#t+=1,this.#x()}#p(){return this.#t-=1,this.#x()}#u(){const e=this.#d(this.#e.target);if(e)return e.classList.remove(this.#e.stop_scroll),this.#g(!0),this.#t=0,this.#r.onComplete?this.#r.onComplete():void 0}createSequence(){try{const e=this.#d(this.#e.target);if(!e)return;e.appendChild(this.#y()),this.#g(),this.#x()}catch(e){throw new Error("Oops, something went wrong while creating the sequence")}}}const i={TooltipSequence:r};TooltipSequenceV2=t})();